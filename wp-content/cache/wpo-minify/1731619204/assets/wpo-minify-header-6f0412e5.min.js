
jQuery(document).ready((function(o){"use strict";o(document.body).on("removed_coupon removed_coupon_in_checkout",(function(e,c){o(`.viwcc-coupon-wrap[data-coupon_code="${c}"]`).removeClass("viwcc_hidden")})),o(document).on("click",".viwcc-coupon-wrap-available:not(.viwcc-coupon-wrap-loading)",(function(e){e.preventDefault(),e.stopPropagation();let c=o(this),a=o(this).data("coupon_code");if(!a)return!1;o.ajax({url:viwcc_param.wc_ajax_url.toString().replace("%%endpoint%%","viwcc_apply_coupon"),type:"post",data:{coupon_code:a,viwcc_nonce:viwcc_param.viwcc_nonce},beforeSend:function(){c.addClass("viwcc-coupon-wrap-loading")},success:function(e){e.message&&(o(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove(),o(".woocommerce-notices-wrapper").length&&!o(".vi-wcaio-sidebar-cart-checkout-wrap").length?(o(".woocommerce-notices-wrapper").last().html(e.message),o.scroll_to_notices(o(".woocommerce-notices-wrapper"))):o(document.body).trigger("villatheme_show_message",[e.message,[e.status],"",!1,4500])),"undefined"!=typeof wc_cart_params?(o(document.body).trigger("applied_coupon",[a]),o('[name="update_cart"]').length&&o('[name="update_cart"]').closest("form").length?o('[name="update_cart"]').removeAttr("disabled").trigger("click"):location.reload()):"undefined"!=typeof wc_checkout_params?(o(document.body).trigger("applied_coupon_in_checkout",[a]),o(document.body).trigger("update_checkout",{update_shipping_method:!1})):o(document.body).trigger("applied_coupon",[a]),c.removeClass("viwcc-coupon-wrap-loading").addClass("viwcc_hidden")},error:function(o){console.log(o),c.removeClass("viwcc-coupon-wrap-loading")}})}))}));



jQuery(document).ready((function(){"use strict";jQuery(document.body).on("villatheme_show_messages",(function(e,t){if(!t||!t.length)return!1;let s=setInterval((function(e){let t=e[0]||{};return t.title||t.message?(t.title?jQuery(document.body).trigger("villatheme_show_message",[t.title,t.status,t.message,t.is_central_title||!1,t.time||4500]):jQuery(document.body).trigger("villatheme_show_message",[t.message,t.status,"",t.is_central_title||!1,t.time||4500]),e.shift(),e.length?void 0:(clearInterval(s),!1)):(clearInterval(s),!1)}),500,t)})),jQuery(document.body).on("villatheme_show_message",(function(e,t,s="",a="",i=!1,o=0){jQuery(".villatheme-show-message-container").length||jQuery("body").append('<div class="villatheme-show-message-container"></div>');let l,n=jQuery(".villatheme-show-message-container"),m="villatheme-show-message-title";a&&(m+=" villatheme-show-message-title1",a='<div class="villatheme-show-message-content">'+a+"</div>"),i&&(m+=" villatheme-show-message-title-central"),l='<div class="villatheme-show-message-item villatheme-show-message-new-added-item">',l+='<div class="'+m+'">'+t+"</div>",l+='<span class="villatheme-show-message-item-close dashicons dashicons-no-alt"></span>'+a,l+="</div></div>",l=jQuery(l),n.prepend(l),"string"==typeof s?l.addClass("villatheme-show-message-message-"+s):jQuery.each(s,(function(e,t){l.addClass("villatheme-show-message-message-"+t)}));let r=jQuery(document.body).triggerHandler("villatheme_show_message_timeout",[l,o]);r.length>0&&(l.on("mouseenter",(function(){for(let e in r)clearTimeout(r[e])})),l.on("mouseleave",(function(){for(let e in r)clearTimeout(r[e]);r=jQuery(document.body).triggerHandler("villatheme_show_message_timeout",[l,o])}))),l.on("click",(function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()})),l.on("click",".villatheme-show-message-item-close",(function(e){if(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),r.length>0)for(let e in r)clearTimeout(r[e]);l.addClass("villatheme-show-message-new-added-item"),setTimeout((function(){l.remove()}),300)}))})),jQuery(document.body).on("villatheme_show_message_timeout",(function(e,t,s){let a=[];return setTimeout((function(){t.removeClass("villatheme-show-message-new-added-item"),s>0&&(a.push(setTimeout((function(){t.addClass("villatheme-show-message-new-added-item")}),s)),a.push(setTimeout((function(){t.remove()}),s+300)))}),10),a}))}));


